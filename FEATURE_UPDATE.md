# Elasticsearch Query Helper - 功能更新

## 新增功能

### 1. 专门的索引列表界面
新增了独立的索引列表界面 (`IndexListScreen`)，提供以下功能：

#### 主要特性
- **完整的索引浏览**: 显示所有可用的Elasticsearch索引
- **智能搜索**: 实时搜索索引名称
- **灵活过滤**: 可选择显示或隐藏系统索引（以.开头的索引）
- **多种排序**: 支持按名称、文档数量、存储大小排序
- **状态显示**: 显示索引健康状态和开放状态
- **详细统计**: 显示文档数量、存储大小、分片数量等信息

#### 界面特色
- **卡片式设计**: 每个索引以卡片形式展示，信息清晰
- **状态指示器**: 彩色标签显示索引健康状态（绿色/黄色/红色）
- **选择反馈**: 选中的索引有明显的视觉反馈
- **响应式布局**: 适配不同屏幕尺寸

### 2. 改进的导航系统

#### 搜索屏幕导航
- 在AppBar中新增"查看所有索引"按钮（列表图标）
- 保留原有的"管理连接"按钮
- 两个按钮并排显示，便于快速访问

#### 连接管理界面增强
- 对于已连接的Elasticsearch实例，新增快捷操作按钮
- **查看索引**按钮：直接跳转到索引列表
- **搜索**按钮：直接跳转到搜索界面
- 主按钮文字优化：已连接显示"Connected"，未连接显示"Connect & Search"

### 3. 布局和颜色优化

#### 布局修复
- 修复了所有二级页面的Column布局约束问题
- 为所有Column添加了`mainAxisSize: MainAxisSize.min`限制
- 解决了RenderFlex unbounded height constraint错误

#### 颜色对比度改善
- 改善了文本颜色对比度，提高可读性
- 次要文本颜色从`#6B7280`改为`#374151`
- 输入字段使用纯白色背景和更深的边框
- 卡片边框更明显，添加轻微阴影

## 使用指南

### 访问索引列表
1. **从搜索界面**: 点击右上角的列表图标
2. **从连接管理**: 对于已连接的实例，点击"View Indices"按钮

### 索引列表功能
1. **搜索索引**: 在搜索框中输入索引名称进行过滤
2. **显示系统索引**: 勾选复选框显示以.开头的系统索引
3. **排序**: 使用下拉菜单选择排序方式，点击箭头切换升序/降序
4. **选择索引**: 点击索引卡片选择该索引用于搜索
5. **查看详情**: 每个索引卡片显示健康状态、文档数量、存储大小等信息

### 导航流程
```
欢迎界面 → 连接管理 → [连接成功] → 搜索界面 ⟷ 索引列表
                                    ↓
                               查看索引详情
```

## 技术实现

### 新增文件
- `lib/screens/index_list_screen.dart`: 索引列表界面
- 更新了`search_screen.dart`和`connection_manager_screen.dart`的导航

### 主要组件
- **IndexListScreen**: 主要的索引列表界面
- **索引卡片**: 显示单个索引信息的卡片组件
- **搜索和过滤**: 实时搜索和过滤功能
- **状态指示器**: 健康状态和开放状态的可视化

### 数据流
1. 从ElasticsearchProvider获取索引数据
2. 根据搜索条件和过滤设置处理数据
3. 按选定方式排序
4. 渲染为卡片列表
5. 支持索引选择和状态更新

## 改进效果

### 用户体验
- **更直观的索引管理**: 专门的界面展示所有索引信息
- **更快的导航**: 从任何界面都能快速访问索引列表
- **更清晰的信息**: 每个索引的状态和统计信息一目了然
- **更好的可读性**: 改善的颜色对比度让文字更清晰

### 功能完整性
- **完整的索引浏览**: 不再局限于下拉选择器
- **详细的索引信息**: 显示健康状态、文档数量、存储大小等
- **灵活的过滤和排序**: 满足不同的浏览需求
- **无缝的导航体验**: 各界面间的跳转更加流畅

这次更新显著提升了应用的功能完整性和用户体验，特别是在索引管理方面提供了更专业和全面的解决方案。